{"version":3,"sources":["../../app-es6/services/CorridaService.js"],"names":["HttpService","ConnectionFactory","CorridaDao","Corrida","CorridaService","_http","corrida","getConnection","then","connection","dao","adiciona","catch","console","log","erro","Error","listaTodos","apagaTodos"],"mappings":";;;;;;;;;;;;;;;AAAQA,uB,gBAAAA,W;;AACAC,6B,sBAAAA,iB;;AACAC,sB,kBAAAA,U;;AACAC,mB,kBAAAA,O;;;;;;;;;;;;;;;;;;;;;sCAEKC,c;AAET,0CAAc;AAAA;;AACV,yBAAKC,KAAL,GAAa,IAAIL,WAAJ,EAAb;AACH;;;;6CAEQM,O,EAAS;AACd,+BAAOL,kBACFM,aADE,GAEFC,IAFE,CAEG;AAAA,mCAAc,IAAIN,UAAJ,CAAeO,UAAf,CAAd;AAAA,yBAFH,EAGFD,IAHE,CAGG;AAAA,mCAAOE,IAAIC,QAAJ,CAAaL,OAAb,CAAP;AAAA,yBAHH,EAIFE,IAJE,CAIG;AAAA,mCAAM,gCAAN;AAAA,yBAJH,EAKFI,KALE,CAKI,gBAAQ;AACXC,oCAAQC,GAAR,CAAYC,IAAZ;AACA,kCAAM,IAAIC,KAAJ,CAAU,uCAAV,CAAN;AACH,yBARE,CAAP;AASH;;;4CAEO;AACJ,+BAAOf,kBACEM,aADF,GAEEC,IAFF,CAEO;AAAA,mCAAc,IAAIN,UAAJ,CAAeO,UAAf,CAAd;AAAA,yBAFP,EAGED,IAHF,CAGO;AAAA,mCAAOE,IAAIO,UAAJ,EAAP;AAAA,yBAHP,EAIEL,KAJF,CAIQ,gBAAQ;AACXC,oCAAQC,GAAR,CAAYC,IAAZ;AACA,kCAAM,IAAIC,KAAJ,CAAU,qCAAV,CAAN;AACH,yBAPF,CAAP;AAQH;;;4CAEO;AACJ,+BAAOf,kBACFM,aADE,GAEFC,IAFE,CAEG;AAAA,mCAAc,IAAIN,UAAJ,CAAeO,UAAf,CAAd;AAAA,yBAFH,EAGFD,IAHE,CAGG;AAAA,mCAAOE,IAAIQ,UAAJ,EAAP;AAAA,yBAHH,EAIFV,IAJE,CAIG;AAAA,mCAAM,gCAAN;AAAA,yBAJH,EAKFI,KALE,CAKI,gBAAQ;AACXC,oCAAQC,GAAR,CAAYC,IAAZ;AACA,kCAAM,IAAIC,KAAJ,CAAU,sCAAV,CAAN;AACH,yBARE,CAAP;AASH","file":"CorridaService.js","sourcesContent":["import {HttpService}       from './HttpService';\nimport {ConnectionFactory} from './ConnectionFactory';\nimport {CorridaDao}        from '../dao/CorridaDao';\nimport {Corrida}           from '../models/Corrida';\n\nexport class CorridaService {\n    \n    constructor() {\n        this._http = new HttpService();\n    }\n    \n    cadastra(corrida) {\n        return ConnectionFactory\n            .getConnection()\n            .then(connection => new CorridaDao(connection))\n            .then(dao => dao.adiciona(corrida))\n            .then(() => 'Corrida adicionada com sucesso')\n            .catch(erro => {\n                console.log(erro);\n                throw new Error('Não foi possível adicionar a corrida!')\n            });\n    }\n\n    lista() {\n        return ConnectionFactory\n                .getConnection()\n                .then(connection => new CorridaDao(connection))\n                .then(dao => dao.listaTodos())\n                .catch(erro => {\n                    console.log(erro);\n                    throw new Error('Não foi possível obter as corridas!')\n                })\n    }\n\n    apaga() {\n        return ConnectionFactory\n            .getConnection()\n            .then(connection => new CorridaDao(connection))\n            .then(dao => dao.apagaTodos())\n            .then(() => 'Corridas apagadas com sucesso!')\n            .catch(erro => {\n                console.log(erro);\n                throw new Error('Não foi possível apagar as corridas!')\n            })\n    }\n}"]}