{"version":3,"sources":["../../app-es6/services/PilotoService.js"],"names":["HttpService","ConnectionFactory","PilotoDao","Piloto","PilotoService","_http","piloto","getConnection","then","connection","dao","adiciona","catch","console","log","erro","Error","listaTodos","apagaTodos"],"mappings":";;;;;;;;;;;;;;;AAAQA,uB,gBAAAA,W;;AACAC,6B,sBAAAA,iB;;AACAC,qB,iBAAAA,S;;AACAC,kB,iBAAAA,M;;;;;;;;;;;;;;;;;;;;;qCAEKC,a;AAET,yCAAc;AAAA;;AACV,yBAAKC,KAAL,GAAa,IAAIL,WAAJ,EAAb;AACH;;;;6CAEQM,M,EAAQ;AACb,+BAAOL,kBACFM,aADE,GAEFC,IAFE,CAEG;AAAA,mCAAc,IAAIN,SAAJ,CAAcO,UAAd,CAAd;AAAA,yBAFH,EAGFD,IAHE,CAGG;AAAA,mCAAOE,IAAIC,QAAJ,CAAaL,MAAb,CAAP;AAAA,yBAHH,EAIFE,IAJE,CAIG;AAAA,mCAAM,gCAAN;AAAA,yBAJH,EAKFI,KALE,CAKI,gBAAQ;AACXC,oCAAQC,GAAR,CAAYC,IAAZ;AACA,kCAAM,IAAIC,KAAJ,CAAU,sCAAV,CAAN;AACH,yBARE,CAAP;AASH;;;4CAEO;AACJ,+BAAOf,kBACEM,aADF,GAEEC,IAFF,CAEO;AAAA,mCAAc,IAAIN,SAAJ,CAAcO,UAAd,CAAd;AAAA,yBAFP,EAGED,IAHF,CAGO;AAAA,mCAAOE,IAAIO,UAAJ,EAAP;AAAA,yBAHP,EAIEL,KAJF,CAIQ,gBAAQ;AACXC,oCAAQC,GAAR,CAAYC,IAAZ;AACA,kCAAM,IAAIC,KAAJ,CAAU,oCAAV,CAAN;AACH,yBAPF,CAAP;AAQH;;;4CAEO;AACJ,+BAAOf,kBACFM,aADE,GAEFC,IAFE,CAEG;AAAA,mCAAc,IAAIN,SAAJ,CAAcO,UAAd,CAAd;AAAA,yBAFH,EAGFD,IAHE,CAGG;AAAA,mCAAOE,IAAIQ,UAAJ,EAAP;AAAA,yBAHH,EAIFV,IAJE,CAIG;AAAA,mCAAM,+BAAN;AAAA,yBAJH,EAKFI,KALE,CAKI,gBAAQ;AACXC,oCAAQC,GAAR,CAAYC,IAAZ;AACA,kCAAM,IAAIC,KAAJ,CAAU,qCAAV,CAAN;AACH,yBARE,CAAP;AASH","file":"PilotoService.js","sourcesContent":["import {HttpService} from './HttpService';\nimport {ConnectionFactory} from './ConnectionFactory';\nimport {PilotoDao} from '../dao/PilotoDao';\nimport {Piloto} from '../models/Piloto';\n\nexport class PilotoService {\n    \n    constructor() {\n        this._http = new HttpService();\n    }\n    \n    cadastra(piloto) {\n        return ConnectionFactory\n            .getConnection()\n            .then(connection => new PilotoDao(connection))\n            .then(dao => dao.adiciona(piloto))\n            .then(() => 'Piloto adicionado com sucesso!')\n            .catch(erro => {\n                console.log(erro);\n                throw new Error('Não foi possível adicionar o piloto!')\n            });\n    }\n\n    lista() {\n        return ConnectionFactory\n                .getConnection()\n                .then(connection => new PilotoDao(connection))\n                .then(dao => dao.listaTodos())\n                .catch(erro => {\n                    console.log(erro);\n                    throw new Error('Não foi possível obter os pilotos!')\n                })\n    }\n\n    apaga() {\n        return ConnectionFactory\n            .getConnection()\n            .then(connection => new PilotoDao(connection))\n            .then(dao => dao.apagaTodos())\n            .then(() => 'Pilotos apagados com sucesso!')\n            .catch(erro => {\n                console.log(erro);\n                throw new Error('Não foi possível apagar os pilotos!')\n            })\n    }\n}\n"]}